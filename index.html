<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="ca-pub-4650463573348937">
    <!-- SEO Meta Tags -->
    <meta name="description" content="TrackMoney: Your ultimate tool to track, analyze, and profit from stock trading with real-time insights on indices, trending stocks, sectors, deals, and IPOs.">
    <meta name="keywords" content="stock trading, TrackMoney, real-time stock data, indices, trending stocks, sectors, IPOs, deals, stock market analysis">
    <meta name="author" content="TrackMoney">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="TrackMoney - Track, Analyze, Profit">
    <meta property="og:description" content="Monitor stock market trends, analyze indices, sectors, deals, and IPOs with real-time data on TrackMoney.">
    <meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/creto-64dd5.appspot.com/o/ChatGPT%20Image%20May%207%2C%202025%2C%2012_39_49%20PM.png?alt=media&token=dbd01bba-9b7f-486d-b93e-447eaaa08f5a">
    <meta property="og:url" content="https://www.trackmoney.com">
    <meta property="og:type" content="website">
    <title>TrackMoney</title>
    <!-- Adding the favicon -->
    <link rel="icon" href="https://firebasestorage.googleapis.com/v0/b/creto-64dd5.appspot.com/o/ChatGPT%20Image%20May%207%2C%202025%2C%2012_39_49%20PM.png?alt=media&token=dbd01bba-9b7f-486d-b93e-447eaaa08f5a" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 250px;
            background-color: black;
            border: 1px solid #444;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: transform 0.3s ease-in-out;
            color: white;
            margin-top: 50px;
        }

        .sidebar.active {
            transform: translateX(0);
        }

        .sidebar-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 101;
            background-color: #1f2937;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .sidebar-toggle:hover {
            background-color: #e63946;
        }

        .sidebar-header {
            padding: 20px;
            margin-top: 40px;
            border-bottom: 1px solid #2d3748;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-header h2 {
            color: white;
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
        }

        .sidebar-content {
            padding: 20px 0;
        }

        .sidebar-section {
            margin-bottom: 20px;
        }

        .sidebar-section-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #9ca3af;
            padding: 0 20px;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .sidebar-menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            color: #d1d5db;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .sidebar-menu-item:hover {
            background-color: #1f2937;
            color: white;
            border-left: 3px solid #e63946;
        }

        .sidebar-menu-item.active {
            background-color: #1f2937;
            color: white;
            border-left: 3px solid #e63946;
        }

        .sidebar-menu-item svg {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }

        .sidebar-menu-item span {
            font-size: 0.95rem;
        }

        .main-content-shifted {
            margin-left: 250px;
            transition: margin-left 0.3s ease-in-out;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-content-shifted {
                margin-left: 0;
            }
        }

        /* Animation for sidebar items */
        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .sidebar-menu-item {
            animation: fadeInLeft 0.3s ease forwards;
            opacity: 0;
        }

        .sidebar-menu-item:nth-child(1) { animation-delay: 0.1s; }
        .sidebar-menu-item:nth-child(2) { animation-delay: 0.2s; }
        .sidebar-menu-item:nth-child(3) { animation-delay: 0.3s; }
        .sidebar-menu-item:nth-child(4) { animation-delay: 0.4s; }
        .sidebar-menu-item:nth-child(5) { animation-delay: 0.5s; }

        /* Adjust footer when sidebar is open */
        .sidebar.active ~ .footer-links {
            width: calc(100% - 250px);
            margin-left: 250px;
            transition: all 0.3s ease-in-out;
        }

        @media (max-width: 768px) {
            .sidebar.active ~ .footer-links {
                width: 100%;
                margin-left: 0;
            }
        }

        /* Badge for new items */
        .badge-new {
            background-color: #e63946;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 8px;
        }
        
        .footer-links {
            text-align: center;
            margin-top: 200px;
            padding: 20px 0;
            position: fixed;
            bottom: 0;
            place-content: center;
            display: flex;
            justify-content: center;
            width: 100%;
            background: black;
        }

        .nav-btn {
            display: inline-block;
            margin: 8px 12px;
            padding: 10px 20px;
            color: white;
            border: 2px solid #e63946;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background-color: #e63946;
            color: white;
        }

        /* Styles for Discovery Tab */
        .discovery-section {
            margin-bottom: 6rem;
        }

        .discovery-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #ffffff;
        }

        .stock-card {
            background-color: #1f2937;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stock-card span {
            font-size: 0.9rem;
            color: #d1d5db;
        }

        .stock-card .positive {
            color: #22c55e;
        }

        .stock-card .negative {
            color: #ef4444;
        }

        /* Styles for Content Sections */
        .content-section {
            margin-bottom: 6rem;
        }

        .content-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #ffffff;
        }

        .data-card {
            background-color: #1f2937;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .data-card span {
            font-size: 0.9rem;
            color: #d1d5db;
        }

        .data-card .positive {
            color: #22c55e;
        }

        .data-card .negative {
            color: #ef4444;
        }

        /* IPO Sub-tabs */
        .ipo-sub-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .ipo-sub-tab {
            padding: 8px 16px;
            background-color: #1f2937;
            color: #d1d5db;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ipo-sub-tab.active {
            background-color: #e63946;
            color: white;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .tab-btn {
            padding: 8px 16px;
            background-color: #1f2937;
            color: #d1d5db;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background-color: #e63946;
            color: white;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4650463573348937" crossorigin="anonymous"></script>
</head>
<body class="text-white">
    <nav class="navbar">
        <div class="navbar-container">
            <h1 class="navbar-logo">TrackMoney</h1>
            <div class="navbar-actions">
                <button class="navbar-btn" id="signInBtn" onclick="toggleSignInOverlay()">Sign In</button>
                <button class="navbar-icon" onclick="toggleSearchOverlay()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35m2.85-5.65a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle Sidebar">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>TrackMoney</h2>
        </div>
        <div class="sidebar-content">
            <!-- Market Section -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Market</div>
                <div class="sidebar-menu-item" onclick="showSection('indices')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605" />
                    </svg>
                    <span>Indices</span>
                </div>
                <div class="sidebar-menu-item" onclick="showSection('trendingStocks')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" />
                    </svg>
                    <span>Trending Stocks</span>
                    <span class="badge-new">Hot</span>
                </div>
                <div class="sidebar-menu-item" onclick="showSection('sectors')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
                    </svg>
                    <span>Sectors</span>
                </div>
            </div>

            <!-- Opportunities Section -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Opportunities</div>
                <div class="sidebar-menu-item" onclick="showSection('deals')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 11.25v8.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 109.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1114.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.025 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                    </svg>
                    <span>Deals</span>
                </div>
                <div class="sidebar-menu-item" onclick="showSection('ipo')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span>IPO</span>
                    <span class="badge-new">New</span>
                </div>
            </div>

            <!-- Your Portfolio Section -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Your Portfolio</div>
                <div class="sidebar-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                    </svg>
                    <span>Watchlist</span>
                </div>
                <div class="sidebar-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5" />
                    </svg>
                    <span>Performance</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Sign-In Overlay -->
    <div class="sign-in-overlay" id="signInOverlay">
        <div class="sign-in-form">
            <h2>Sign In</h2>
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button class="sign-in-btn" onclick="handleSignIn()">Sign In</button>
        </div>
    </div>

    <!-- Landing Page -->
    <div class="landing-page" id="landingPage">
        <h1 class="landing-title">Welcome to TrackMoney</h1>
        <p class="landing-subtitle">Your ultimate tool to track, analyze, and profit from stock trading with real-time insights.</p>
        <a href="#" class="landing-btn" onclick="toggleSignInOverlay()">Get Started</a>
    </div>

    <!-- App Content -->
    <div id="appContent" class="hidden">
        <!-- Splash Screen -->
        <div class="splash-screen" id="splashScreen">
            <div class="splash-logo">
                <div class="logo-symbol">
                    <div class="logo-circle"></div>
                    <div class="splash-icon">
                        <div class="logo-text">TrackMoney</div>
                    </div>
                </div>
            </div>
            <div class="splash-subtitle">Track. Analyze. Profit.</div>
        </div>

        <!-- Loader -->
        <div class="loader-container" id="loaderContainer">
            <span class="loader"></span>
        </div>

        <!-- Search Overlay -->
        <div id="searchOverlay" class="search-overlay">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-bold">Search</h2>
                <button class="text-gray-400" onclick="toggleSearchOverlay()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <input type="text" placeholder="Search..." onkeyup="updateSearch(event)" class="w-full p-2 bg-gray-800 text-white rounded">
            <p id="searchMessage" class="text-gray-400 mt-2">Search your activity ex (profit,loss,name,status)</p>
            <div id="activityListI" class="activity-list"></div>
        </div>

        <!-- Main Content -->
        <div class="main-content-shifted p-4 w-full items-center flex flex-col justify-center align-center">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" onclick="showTab('discovery')">Discovery</button>
                <button class="tab-btn" onclick="showTab('intraday')">Intraday</button>
                <button class="tab-btn" onclick="showTab('holding')">Holding</button>
                <button class="tab-btn" onclick="showTab('news')">News</button>
                <button class="tab-btn" onclick="showTab('activity')">Activity</button>
            </div>

            <!-- Discovery Section -->
            <div id="discovery" class="discovery-section w-[500px]">
                <h3>Discovery</h3>
                <div id="discoveryList">
                    <div class="stock-card">
                        <span>RELIANCE</span>
                        <span>₹2,800.50</span>
                        <span class="positive">+2.34%</span>
                    </div>
                    <div class="stock-card">
                        <span>TCS</span>
                        <span>₹4,120.75</span>
                        <span class="negative">-1.12%</span>
                    </div>
                </div>
            </div>

            <!-- Intraday Section -->
            <div id="intraday" class="discovery-section w-[500px] hidden">
                <h3>Intraday</h3>
                <div id="intradayList">
                    <div class="stock-card">
                        <span>INFY</span>
                        <span>₹1,450.20</span>
                        <span class="positive">+1.89%</span>
                    </div>
                </div>
            </div>

            <!-- Holding Section -->
            <div id="holding" class="discovery-section w-[500px] hidden">
                <h3>Holding</h3>
                <div id="holdingList">
                    <div class="stock-card">
                        <span>HDFCBANK</span>
                        <span>₹1,600.30</span>
                        <span class="negative">-0.76%</span>
                    </div>
                </div>
            </div>

            <!-- News Section -->
            <div id="news" class="discovery-section w-[500px] hidden">
                <h3>News</h3>
                <div id="newsList">
                    <div class="stock-card">
                        <span>Market Update</span>
                        <span>Nifty hits 22,000</span>
                    </div>
                </div>
            </div>

            <!-- Activity Section -->
            <div id="activity" class="discovery-section w-[500px] hidden">
                <h3>Activity</h3>
                <div id="activityList">
                    <div class="stock-card">
                        <span>Bought RELIANCE</span>
                        <span>100 shares @ ₹2,790</span>
                    </div>
                </div>
            </div>

            <!-- Indices Section -->
            <div id="indices" class="content-section w-[500px]">
                <h3>Indices</h3>
                <div id="indicesList"></div>
            </div>

            <!-- Trending Stocks Section -->
            <div id="trendingStocks" class="content-section w-[500px] hidden">
                <h3>Trending Stocks</h3>
                <div id="trendingStocksList"></div>
            </div>

            <!-- Sectors Section -->
            <div id="sectors" class="content-section w-[500px] hidden">
                <h3>Sectors</h3>
                <div id="sectorsList"></div>
            </div>

            <!-- Deals Section -->
            <div id="deals" class="content-section w-[500px] hidden">
                <h3>Deals</h3>
                <div id="dealsList"></div>
            </div>

            <!-- IPO Section -->
            <div id="ipo" class="content-section w-[500px] hidden">
                <h3>IPOs</h3>
                <div class="ipo-sub-tabs">
                    <button class="ipo-sub-tab active" onclick="showIPOSubTab('ongoing')">Ongoing</button>
                    <button class="ipo-sub-tab" onclick="showIPOSubTab('upcoming')">Upcoming</button>
                    <button class="ipo-sub-tab" onclick="showIPOSubTab('listed')">Listed</button>
                </div>
                <div id="ongoing" class="ipo-sub-content">
                    <div id="ongoingList"></div>
                </div>
                <div id="upcoming" class="ipo-sub-content hidden">
                    <div id="upcomingList"></div>
                </div>
                <div id="listed" class="ipo-sub-content hidden">
                    <div id="listedList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Links -->
    <div class="footer-links">
        <a href="/about.html" class="nav-btn">About Us</a>
        <a href="/privacy.html" class="nav-btn">Privacy Policy</a>
        <a href="/terms.html" class="nav-btn">Terms and Conditions</a>
        <a href="/contact.html" class="nav-btn">Contact Us</a>
    </div>

    <!-- JavaScript -->
    <script>
        // Simulated API data fetching for Indices
        async function fetchIndicesData() {
            try {
                const response = await fetch('https://api.stockedge.com/Api/DailyDashboardApi/GetLatestIndexQuotes?page=1&pageSize=10&exchange=NSE&priceChangePeriodType=1&lang=en');
                const data = await response.json();
                const indicesList = document.getElementById('indicesList');
                indicesList.innerHTML = '';
                data.forEach(item => {
                    const changeClass = item.ChangePercentage >= 0 ? 'positive' : 'negative';
                    indicesList.innerHTML += `
                        <div class="data-card">
                            <span>${item.SecurityName}</span>
                            <span>₹${item.Close.toFixed(2)}</span>
                            <span class="${changeClass}">${item.ChangePercentage.toFixed(2)}%</span>
                        </div>
                    `;
                });
            } catch (error) {
                console.error('Error fetching indices data:', error);
            }
        }

        // Simulated API data fetching for Trending Stocks
        async function fetchTrendingStocksData() {
            try {
                const response = await fetch('https://api.stockedge.com/Api/trendingstocksapi/GetPriceMovers?gainerLosersTypeEnum=1&page=1&pageSize=10&relevantListings=10&lang=en');
                const data = await response.json();
                const trendingStocksList = document.getElementById('trendingStocksList');
                trendingStocksList.innerHTML = '';
                data.forEach(item => {
                    const changeClass = item.CZG >= 0 ? 'positive' : 'negative';
                    trendingStocksList.innerHTML += `
                        <div class="data-card">
                            <span>${item.Name}</span>
                            <span>₹${item.C.toFixed(2)}</span>
                            <span class="${changeClass}">${item.CZG.toFixed(2)}%</span>
                        </div>
                    `;
                });
            } catch (error) {
                console.error('Error fetching trending stocks data:', error);
            }
        }

        // Simulated API data fetching for Sectors
        async function fetchSectorsData() {
            try {
                const response = await fetch('https://api.stockedge.com/Api/SectorDashboardApi/GetAllSectorsWithRespectiveIndustriesAndMcap?sectorSort=3&lang=en');
                const data = await response.json();
                const sectorsList = document.getElementById('sectorsList');
                sectorsList.innerHTML = '';
                data.forEach(item => {
                    const changeClass = item.McapZG >= 0 ? 'positive' : 'negative';
                    sectorsList.innerHTML += `
                        <div class="data-card">
                            <span>${item.Name}</span>
                            <span>${item.StocksCount} Stocks</span>
                            <span class="${changeClass}">${item.McapZG.toFixed(2)}%</span>
                        </div>
                    `;
                });
            } catch (error) {
                console.error('Error fetching sectors data:', error);
            }
        }

        // Simulated API data fetching for Deals
        async function fetchDealsData() {
            try {
                const response = await fetch('https://api.stockedge.com/Api/DealsDashboardApi/GetLatestBulkDeals?page=1&pageSize=10&lang=en');
                const data = await response.json();
                const dealsList = document.getElementById('dealsList');
                dealsList.innerHTML = '';
                data.forEach(item => {
                    dealsList.innerHTML += `
                        <div class="data-card">
                            <span>${item.SecurityName}</span>
                            <span>${item.BuySellName}</span>
                            <span>₹${item.Price.toFixed(2)}</span>
                        </div>
                    `;
                });
            } catch (error) {
                console.error('Error fetching deals data:', error);
            }
        }

        // Simulated API data fetching for IPOs
        async function fetchIPOData(subTab) {
            try {
                let url;
                let listId;
                if (subTab === 'ongoing') {
                    url = 'https://api.stockedge.com/Api/IPODashboardApi/GetOngoingIPOs?page=1&pageSize=10&lang=en';
                    listId = 'ongoingList';
                } else if (subTab === 'upcoming') {
                    url = 'https://api.stockedge.com/Api/IPODashboardApi/GetUpcomingIPOs?page=1&pageSize=10&lang=en';
                    listId = 'upcomingList';
                } else {
                    url = 'https://api.stockedge.com/Api/IPODashboardApi/GetListedIPOs?page=2&pageSize=10&lang=en';
                    listId = 'listedList';
                }
                const response = await fetch(url);
                const data = await response.json();
                const ipoList = document.getElementById(listId);
                ipoList.innerHTML = '';
                data.forEach(item => {
                    let details = '';
                    if (subTab === 'ongoing') {
                        details = `Issue: ₹${item.IssuePriceMin.toFixed(2)}`;
                    } else if (subTab === 'upcoming') {
                        details = `Issue: ₹${item.IssuePriceMin.toFixed(2)} - ₹${item.IssuePriceMax.toFixed(2)}`;
                    } else {
                        const changeClass = item.IssuePriceZG >= 0 ? 'positive' : 'negative';
                        details = `LTP: ₹${item.LTP.toFixed(2)} <span class="${changeClass}">${item.IssuePriceZG.toFixed(2)}%</span>`;
                    }
                    ipoList.innerHTML += `
                        <div class="data-card">
                            <span>${item.SecurityName}</span>
                            <span>${details}</span>
                        </div>
                    `;
                });
            } catch (error) {
                console.error(`Error fetching ${subTab} IPO data:`, error);
            }
        }

        // Show specific section
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');

            // Highlight active sidebar item
            document.querySelectorAll('.sidebar-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.sidebar-menu-item[onclick="showSection('${sectionId}')"]`).classList.add('active');

            // Fetch data for the section
            if (sectionId === 'indices') {
                fetchIndicesData();
            } else if (sectionId === 'trendingStocks') {
                fetchTrendingStocksData();
            } else if (sectionId === 'sectors') {
                fetchSectorsData();
            } else if (sectionId === 'deals') {
                fetchDealsData();
            } else if (sectionId === 'ipo') {
                showIPOSubTab('ongoing');
            }
        }

        // Show IPO sub-tab
        function showIPOSubTab(subTab) {
            document.querySelectorAll('.ipo-sub-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(subTab).classList.remove('hidden');

            // Highlight active sub-tab
            document.querySelectorAll('.ipo-sub-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.ipo-sub-tab[onclick="showIPOSubTab('${subTab}')"]`).classList.add('active');

            // Fetch IPO data
            fetchIPOData(subTab);
        }

        // Show Tab
        function showTab(tabId) {
            document.querySelectorAll('.discovery-section, .content-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(tabId).classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.tab-btn[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.querySelectorAll('.sidebar-menu-item').forEach(item => {
                item.classList.remove('active');
            });
        }

        // Sidebar toggle
        document.getElementById('sidebarToggle').addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        });

        // Auto-refresh data every 5 minutes
        setInterval(() => {
            const activeSection = document.querySelector('.content-section:not(.hidden)');
            if (activeSection) {
                if (activeSection.id === 'indices') {
                    fetchIndicesData();
                } else if (activeSection.id === 'trendingStocks') {
                    fetchTrendingStocksData();
                } else if (activeSection.id === 'sectors') {
                    fetchSectorsData();
                } else if (activeSection.id === 'deals') {
                    fetchDealsData();
                } else if (activeSection.id === 'ipo') {
                    const activeSubTab = document.querySelector('.ipo-sub-tab.active').getAttribute('onclick').match(/'([^']+)'/)[1];
                    fetchIPOData(activeSubTab);
                }
            }
        }, 5 * 60 * 1000);

        // Initial data load
        fetchIndicesData();
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YG7Q4JJLH9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YG7Q4JJLH9');
    </script>
</body>
</html>
